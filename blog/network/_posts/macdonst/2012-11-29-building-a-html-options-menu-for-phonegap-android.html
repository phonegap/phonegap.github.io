--- 
link: http://simonmacdonald.blogspot.com/2012/11/building-html-options-menu-for-phonegap.html
external: true
status: publish
type: post
format: html
author: Simon MacDonald
permalink: /admin/blog/2012-11-29-building-a-html-options-menu-for-phonegap-android
date: 2012-11-29 04:03:00 Z
title: Building a HTML Options Menu for PhoneGap Android
---
<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-cs_a2ro_P0Y/TkA8D-vPCVI/AAAAAAAABwE/gHJwh4m8Jkw/s1600/pg.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="200" src="http://1.bp.blogspot.com/-cs_a2ro_P0Y/TkA8D-vPCVI/AAAAAAAABwE/gHJwh4m8Jkw/s200/pg.png" width="159" /></a></div>Alright, sorry it took me so long to get back to this but I was busy getting things done for the 2.3.0 release. This is a continuation of my series of posts on menus the previous ones were on <a href="http://simonmacdonald.blogspot.ca/2012/11/building-native-context-menu-for.html">Context</a> and <a href="http://simonmacdonald.blogspot.ca/2012/11/building-native-menu-with-phonegap.html">Option</a> menus. Also,&nbsp;the code is not perfect there are some things I want to do that will support multiple image sizes and organize&nbsp;the menu in multiple rows but I figured I'd release what I was able to re-create. My original code is somewhere on another laptop. So the new code is now available in this <a href="https://github.com/macdonst/CordovaAndroidUI/blob/master/OptionsMenu.js">github repo</a>.<br /><br />Okay, so if you want to use this component you will need to download OptionsMenu.js from&nbsp;the above link, place it in your assets/www folder then add the script tag after cordova.js in your HTML file.<br /><br /><script src="https://gist.github.com/4166658.js?file=scripttag.html"></script> Next you will want to create you menu. For my purposes I've used the settings/help example like the previous two posts on menus. To do it you add some code into your to the method that is listening for the "<i>deviceready</i>" event. Something like this: <br /><script src="https://gist.github.com/4166658.js?file=menu.js"></script> and that will produce a menu that looks like this:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-5EfL2sD2pK8/ULbbwPAKWYI/AAAAAAAACK0/hjW49RT-gIc/s1600/Screen+Shot+2012-11-28+at+10.48.29+PM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://2.bp.blogspot.com/-5EfL2sD2pK8/ULbbwPAKWYI/AAAAAAAACK0/hjW49RT-gIc/s400/Screen+Shot+2012-11-28+at+10.48.29+PM.png" width="237" /></a></div><span id="goog_509165919"></span><span id="goog_509165920"></span><br />But let's dig in a bit of that call to create a new OptionsMenu. The magic is in&nbsp;the JSON object passed to&nbsp;the construction. Obviously the "<i>id</i>" is used to set&nbsp;the ID of the div that will hold the menu items. Then the <i>items</i> array will contain all of the menu items you want to display. Each menu item has three properties, <i>image</i> is a url the icon you want to display in the item, <i>label</i> which is the text which is shown under the image and finally <i>action</i> which is a JavaScript function that is called when the item is tapped.<br /><br />So that's it, you have a fully functioning HTML/CSS/JS only options menu just by including an additional JavaScript file. Like I said the <a href="https://github.com/macdonst/CordovaAndroidUI/blob/master/OptionsMenu.js">code is up on github</a> and it is not perfect. Feel free to submit issues as I'm going to pick away at making it more robust after I take a mini vacation.<div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/72386855013225666-5571147491528862184?l=simonmacdonald.blogspot.com' alt='' /></div>
