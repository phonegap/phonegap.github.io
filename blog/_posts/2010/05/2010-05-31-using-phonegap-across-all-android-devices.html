---
author: Joe B
categories: app
date: '2010-05-31 19:27:20'
link: http://blogs.nitobi.com/joe/2010/05/31/using-phonegap-across-all-android-devices/
permalink: /2010/05/31/using-phonegap-across-all-android-devices/
slug: using-phonegap-across-all-android-devices
status: publish
title: Using PhoneGap across ALL ANDROID DEVICES
type: post
format: html
---

<p>This is my biggest pet-peeve to date.  We get a lot of people trying to use PhoneGap across all devices.  However, despite the work that people have done on droidgap, most people still use Eclipse as the primary way they develop with Android, because that's what people read in the Wiki.</p>

<p>The problem is that when you start developing for Eclipse, you notice that PhoneGap is set to the latest version of Android.  However, for some reason people want to change their target because they're running an earlier version of Android.  Since they use Eclipse to deploy their app, they are misled to believe that if you write an APK, you must target only one version.</p>

<p>If we're deploying multiple APKs, PhoneGap has FAILED to do the job it was meant to do.  If you have to change the target, there is something wrong!</p>

<p>Now, why do I say that, because I discovered this when using Eclipse:</p>

<ul>
<li><p>Automatic Selection of your running target is EVIL!</p></li>
<li><p>Manual Selection allows you to choose your APK</p></li>
</ul>

<p>The reason Automatic Selection is evil is because it will launch an Emulator and go for the highest level device it can go.  Not what you're running, but whatever the highest device is.   This is the correct behaviour, but this does NOT help people who are looking to test it on their device.  This causes people to instinctively mess with PhoneGap and do bad things like change the target.  Here's why you should NEVER have to change the target:</p>

<p>`  </p>

<p>`</p>

<p>This is the line from the AndroidManifest.xml.  This sets the Minimum SDK Version to 2, which is Android 1.5.  A while ago, we fixed the Android 1.5 issues by changing the conditional compatibility code to look for the SDK string.  We could probably do this better, and we'll look into it in the coming weeks.  However, as it stands right now, this is how we do it, and it works.</p>

<p>The other thing that annoys me about eclipse that I'm sure causes people to change it is this:  </p>

<p><a href="http://blogs.nitobi.com/joe/wp-content/uploads/2010/05/device_chooser1.png"><img src="http://blogs.nitobi.com/joe/wp-content/uploads/2010/05/device_chooser1.png" alt="" /></a></p>

<p>This is the stupidest UX ever.  It should be a warning, not big red X, and this causes a LOT of headache and unnecessary gnashing of teeth.  If you click OK, it will actually run on the device.  As you see here, this is pointing to my Nexus One, which is still running Android 2.1-update1.  I'm currently building PhoneGap for Froyo, BUT it still runs, and it works fine.  This is actually how you can have one APK that runs on all devices.</p>

<p>I can see how someone wouldn't want to support all Android devices, BUT given the fact that according to Google, <a href="http://d.android.com/resources/dashboard/platform-versions.html">Android 1.5 and 1.6 phones far outnumber the Android 2.x devices,</a> it makes sense to make one APK to rule them all.  The idea is to write once and deploy anywhere, and not write once and deploy to every single version of the platform.  If this doesn't work for you, you've found a bug, and we would appreciate it if it was filed.  It's important for PhoneGap to both run on Android 1.5 AND be able to take advantage of all the latest browser features, and the current approach we are using with the EDGE version allows us to do exactly that.</p>

<p>Fragmentation?  The only fragmentation on Android that we care about is the fragmentation between WebKit versions, but that's another issue entirely.</p>

<p><a href="http://blogs.nitobi.com/joe/2010/05/31/using-phonegap-across-all-android-devices/"> â€º Visit the original post</a></p>
